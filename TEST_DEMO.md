# 演示模式测试指南

## 当前状态

✅ **前端已创建** - Vue3 + Element Plus界面
✅ **后端已配置** - 演示模式已启用
✅ **演示服务已实现** - 可生成示例文件

## 测试步骤

### 1. 启动后端服务

```bash
# 在项目根目录
go run cmd/server/main.go
```

应该看到类似输出：
```
INFO    Starting MVP Video Generator Server
INFO    Demo mode enabled - will generate demo videos
INFO    Demo Video Service initialized
INFO    Server starting {"address": "0.0.0.0:8080", "mode": "debug"}
```

### 2. 启动前端服务

```bash
# 在新终端
cd frontend
npm run dev
```

### 3. 访问应用

打开浏览器访问：http://localhost:3000

### 4. 测试功能

1. **界面检查**
   - 应该看到"演示模式"的蓝色提示框
   - 左侧有文本输入区域
   - 右侧有任务管理区域

2. **创建任务**
   - 点击"加载示例文本"按钮
   - 调整生成选项（可选）
   - 点击"生成视频"按钮

3. **查看进度**
   - 右侧应该出现新任务
   - 进度条显示4个步骤
   - 任务状态从"处理中"变为"已完成"

4. **下载结果**
   - 任务完成后点击"下载"按钮
   - 会下载一个演示文件（包含分镜信息）

## 预期结果

### 演示模式特点

- ⚡ **快速完成** - 几秒钟内完成（无需等待AI生成）
- 📄 **示例文件** - 下载的是包含分镜信息的文本文件
- 🎯 **完整流程** - 体验完整的工作流程
- 💡 **功能演示** - 展示所有界面功能

### 生成的文件内容

演示文件包含：
- 生成时间
- 分镜数量和总时长
- 每个镜头的详细信息
- 对话内容（如果有）

## 切换到真实模式

### 七牛云模式

编辑 `configs/config.yaml`：

```yaml
video_generation:
  type: "qiniu"  # 改为qiniu
  qiniu:
    api_key: "your-real-api-key"  # 配置真实API密钥
```

### 本地SD模式

```yaml
video_generation:
  type: "local_sd"  # 改为local_sd
```

需要先启动Stable Diffusion WebUI服务。

## 故障排除

### 前端问题

- **演示提示不显示** - 检查后端健康检查API
- **任务创建失败** - 查看浏览器控制台错误
- **界面异常** - 刷新页面重试

### 后端问题

- **服务启动失败** - 检查端口8080是否被占用
- **任务处理失败** - 查看后端日志输出
- **文件保存失败** - 检查data目录权限

### 网络问题

- **前端无法连接后端** - 确认后端在8080端口运行
- **API调用失败** - 检查防火墙设置

## 下一步

演示模式测试成功后，可以：

1. **配置真实API** - 使用七牛云或本地SD
2. **部署到服务器** - 参考部署文档
3. **自定义功能** - 修改代码添加新特性
4. **性能优化** - 根据使用情况调优

---

**注意**: 演示模式仅用于测试和展示，不会生成真实的视频文件。